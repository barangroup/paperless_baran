<link type="text/css" href="bootstrap/persiandatepicker/styles/datepicker.css" rel="stylesheet" />
<!-- first row -->
<div class="row">
  <div class="col-lg-6 col-md-8 col-sm-12">
    <form ng-submit="submits();" name="myForm">
      <div class="box box-solid">
        <div class="box-header with-border">
          <p class="box-title pr-med">فرم عضویت</p>
          <div class="pull-left">
            <div class="box-tools">
              <button type="button" class="btn btn-default" ng-disabled="Deactive" ng-click="reset()"><i class="fa fa-refresh"></i>
              </button>
            </a>
          </div>
        </div>
      </div>
      <div class="box-body" ng-cloak>
        <h2>اطلاعات فردی</h2>
        <div class="row">
          <div class="col-lg-6">
            <div class="input-group" ng-class="{'has-error' : myForm.first_name.$touched && myForm.first_name.$invalid}">
              <span class="input-group-addon text-blue">نام<small class="text-red"> *</small></span>
              <input type="text" class="form-control" name="first_name" ng-model="contact.first_name" required>
            </div>
          </div>
          <br class="hidden-lg">
          <div class="col-lg-6">
            <div class="input-group" ng-class="{'has-error' : myForm.last_name.$touched && myForm.last_name.$invalid}">
              <span class="input-group-addon text-blue">نام خانوادگی<small class="text-red"> *</small></span>
              <input type="text" class="form-control" name="last_name" ng-model="contact.last_name" required>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-lg-3 col-sm-6">
            <div class="input-group">
              <label>
                <input type="radio" name="gender" ng-model="contact.gender"  ng-value="true"/>
                مرد
              </label>
            </div>
          </div>
          <div class="col-lg-3 col-sm-6">
            <div class="input-group">
              <label>
                <input type="radio" name="gender" ng-model="contact.gender" ng-value="false"/>
                زن
              </label>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-lg-6">
            <div class="input-group" ng-class="{'has-error' : myForm.mobile.$touched && myForm.mobile.$invalid}">
              <span class="input-group-addon text-blue">
                شماره همراه<small class="text-red"> *</small>
              </span>
              <input type="text" class="form-control pr pr-numb pr-sml text-left" name="mobile" ng-model="contact.mobile"
              ng-pattern="/^09[0-9]{9}$/" placeholder="مثال: 09151234568" required>
            </div>
          </div>
          <br class="hidden-lg">
          <div class="col-lg-6">
            <div class="input-group" ng-class="{'has-error' : myForm.telephone_number.$touched && myForm.telephone_number.$invalid}">
              <span class="input-group-addon text-blue">
                تلفن ثابت
              </span>
              <input type="text" class="form-control pr pr-numb pr-sml text-left" name="telephone_number"
              ng-model="contact.telephone_number" ng-pattern="/^0[0-9]{10}$/" placeholder="مثال: 05138471234">
            </div>
          </div>
        </div>
        <br>
        <div class="input-group" ng-class="{'has-error' : myForm.email.$invalid}">
          <span class="input-group-addon text-blue">ایمیل</span>
          <input type="email" class="form-control pr-en" name="email" ng-model="contact.email">
        </div>
        <br>
        <h2>اطلاعات تحصیلی</h2>
        <div class="input-group">
          <span class="input-group-addon text-blue">دانشگاه</span>
          <input type="text" class="form-control" name="university" ng-model="contact.university" ng-disabled="contact.sadjad_uni_student">
          <span class="input-group-addon">
            <label class="pr-sml">
              <input type="checkbox" name="sadjad_student" ng-model="contact.sadjad_uni_student"  ng-change="contact.sadjad_uni_student ?  contact.university = 'صنعتی سجاد' : contact.university=''">
              صنعتی سجاد
            </label>
          </span>
        </div>
        <br>
        <div class="input-group">
          <span class="input-group-addon text-blue">شماره دانشجویی</span>
          <input type="text" class="form-control pr-numb" name="student_number" ng-model="contact.student_number"
          ng-disabled="contact._free_of_edu" >
          <span class="input-group-addon">
            <label class="pr-sml">
              <input type="checkbox" name="_free_of_edu" ng-model="contact._free_of_edu">
              فارغ التحصیل
            </label>
          </span>
        </div>
        <br>
        <div class="row">
          <div class="col-lg-6">
            <div class="input-group">
              <span class="input-group-addon text-blue">رشته</span>
              <select class="form-control text-right" ng-model="contact.major"
              ng-options="getMajorValue(major) as major.name group by major.group for major in majorsList"></select>
            </div>
          </div>
          <br class="hidden-lg">
          <div class="col-lg-6">
            <div class="input-group">
              <span class="input-group-addon text-blue">سال ورود به دانشگاه</span>
              <select class="form-control text-center" ng-model="contact.entering_uni_year"
                ng-options="year for year in entryYear">
              </select>
            </div>
          </div>
        </div>
        <br>
        <div class="input-group">
          <span class="input-group-addon text-blue">
            شهر
          </span>
          <input type="text" class="form-control" name="city" ng-model="contact.city"
          ng-disabled="contact.native">
          <span class="input-group-addon">
            <label>
              <input type="checkbox" name="native" ng-model="contact.native"
              ng-change="contact.native ?  contact.city = 'مشهد' : contact.city=''">
              ساکن مشهد
            </label>
          </span>
        </div>
        <br>
        <div class="input-group">
          <span class="input-group-addon text-blue">
            آدرس
          </span>
          <input type="text" class="form-control" name="address" ng-model="contact.address">
        </div>
        <br>
        <div class="input-group" ng-class="{'has-error' : myForm.birth_date.$invalid}">
          <span class="input-group-addon text-blue">تاریخ تولد</span>
          <input type="text" class="form-control pr-numb datePicker" name="birth_date" placeholder="ماه/روز/سال" ng-model="contact.birth_date" ng-pattern="/^1[3-4][0-9]{2}/[0-9]{1,2}/[0-9]{1,2}$/">
        </div>
        <br>
        <h2>اطلاعات گروه</h2>
        <div class="row">
          <div class="col-lg-4  col-md-4">
            <div class="input-group pr">
              <label class="pr-sml">
                <input type="checkbox" ng-model="contact._visited"/>
                فرم ثبت نام بررسی شده
              </label>
            </div>
          </div>
          <div class="col-lg-4  col-md-4">
            <div class="input-group pr">
              <label class="pr-sml">
                <input type="checkbox" ng-model="contact._justified"/>
                توجیه شده
              </label>
            </div>
          </div>
          <div class="col-lg-4  col-md-4">
            <div class="input-group pr">
              <label class="pr-sml">
                <input type="checkbox" ng-model="contact._called"/>
                تماس گرفته شده
              </label>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-lg-4  col-md-4">
            <div class="input-group pr">
              <label class="pr-sml">
                <input type="checkbox" ng-model="contact.have_job"/>
                شاغل
              </label>
            </div>
          </div>
          <div class="col-lg-4  col-md-4">
            <div class="input-group pr">
              <label class="pr-sml">
                <input type="checkbox" ng-model="contact._active"/>
                نیروی فعال
              </label>
            </div>
          </div>
        </div>
        <!-- <h2>فعالیت ها</h2> -->
        <h4>علاقه مند به تدریس در کدام مقطع(ها) می باشید.</h4>
        <div class="form-group pr">
          <select class="form-control" name="age_group_decide" ng-model="contact.age_group_decide"
            ng-options="age for age in agesList" multiple>
          </select>
        </div>
        <p class="help-block">(برای انتخاب چند گزینه کلید Ctrl را نگهدارید)</p> <br>
        <h4>توانایی تدریس در کدام دروس را دارید؟</h4>
        <div class="form-group pr">
          <select class="form-control" name="lessons" ng-model="contact.teaching_lessons"
            ng-options="lesson for lesson in lessonsList" multiple>
          </select>
        </div>
        <br>
        <h2 class="help-block">مهارت</h2>
        <div class="row">
          <div class="col-lg-12">
            <table class="table table-hover">
              <thead>
                <th>عنوان</th>
                <th width="50px">حذف</th>
              </thead>
              <tbody>
                <tr ng-repeat="skill in contact.skills track by $index">
                  <td><input type="text" name="skill" class="form-control" ng-model="contact.skills[$index]"></td>
                  <td><button type="button" class="btn btn-danger" ng-click="contact.skills.splice($index,1)"><i
                  class="fa fa-remove"></i></button></td>
                </tr>
              </tbody>
              <tfoot>
              <tr>
                <td colspan="2">
                  <button type="button" class="btn btn-default" ng-click="contact.skills.push('')">افزودن <i class="fa fa-plus"></i></button>
                </td>
              </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <br>
        <h2 class="help-block">توضیحات</h2>
        <div class="row">
          <div class="col-lg-12">
            <table class="table table-hover">
              <thead>
                <th>عنوان</th>
                <th width="50px">حذف</th>
              </thead>
              <tbody>
                <tr ng-repeat="comment in contact._comments">
                  <td>
                    <input type="text" name="comment" class="form-control" ng-model="comment.comment">
                  </td>
                  <td>
                    <button type="button" class="btn btn-danger" ng-click="contact._comments.splice($index,1);"><i class="fa fa-remove"></i></button>
                  </td>
                </tr>
              </tbody>
              <tfoot>
              <tr>
                <td colspan="2">
                  <button type="button" class="btn btn-default" ng-click="contact._comments.push({});">افزودن <i class="fa fa-plus"></i></button>
                </td>
              </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <br>
      </div>
      <!-- box body -->
      <div class="box-footer pr">
        <button type="submit" class="btn btn-success" ng-disabled="Deactive || hasError()">افزودن <i class="fa fa-plus-circle"></i></button>
      </div>
      <div ng-show="Deactive" class="overlay">
        <i class="fa fa-spinner fa-spin"></i>
      </div>
    </div>
  </form>
</div>
</div>
<script type="text/javascript" src="bootstrap/persiandatepicker/scripts/jquery.ui.datepicker-cc.all.min.js"></script>
<script type="text/javascript"></script>
<script type="text/javascript">
var date = new Date();
date.setYear(date.getYear() - 21);
new Date()
$('.datePicker').datepicker({
dateFormat: 'yy/m/d',
defaultDate: date,
changeYear: true,
changeMonth: true,
minDate: '-35y',
maxDate: '-17y',
showOtherMonths: true,
selectOtherMonths: false
});
</script>
